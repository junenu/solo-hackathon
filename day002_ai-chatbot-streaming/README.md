# Day 002: AI Chatbot Streaming

ネットワーキングの専門家として動作するAIチャットボットです。OpenAI Agentsライブラリを使用して会話履歴を保持し、継続的な対話を可能にしています。

## 機能

- **継続的な対話**: 過去の会話履歴を保持して文脈を維持
- **専門性**: ネットワーキングに関する質問に特化
- **インタラクティブCLI**: コマンドラインでの対話型インターフェース
- **OpenAI Agents**: 最新のOpenAI Agentsライブラリを使用

## 必要な環境

- Node.js 18以上
- OpenAI API キー

## セットアップ

1. 依存関係をインストール:

```bash
npm install
```

2. 環境変数を設定:

```bash
export OPENAI_API_KEY=your_api_key_here
```

## 実行方法

```bash
npx tsx src/index.ts
```

または環境変数を直接指定:

```bash
OPENAI_API_KEY=your_api_key_here npx tsx src/index.ts
```

## 使用方法

1. アプリケーションを起動すると、`User: `プロンプトが表示されます
2. ネットワーキングに関する質問を入力してください
3. AIが専門家として回答を提供します
4. 会話履歴が保持されるため、前の会話を参照した質問も可能です
5. 終了するには`exit`と入力してください

## 技術仕様

- **フレームワーク**: TypeScript + Node.js
- **AIライブラリ**: @openai/agents
- **モデル**: gpt-4.1-nano
- **インターフェース**: readline/promises

## 依存関係

- `@openai/agents`: OpenAI Agentsライブラリ
- `@types/node`: Node.js型定義
- `tsx`: TypeScript実行環境
- `typescript`: TypeScriptコンパイラ
- `zod`: データ検証ライブラリ

## Day 001からの変更点

- OpenAI Chat Completions APIから@openai/agents APIへ移行
- 会話履歴管理

## 実行例

```bash
➜ npx tsx src/index.ts
User: こんにちは
AI: こんにちは！ネットワーキングに関するご質問やお悩みがあれば、お気軽にお知らせください。お手伝いいたします。
User: BGPってなんぞや。
AI: BGP（Border Gateway Protocol、ボーダーゲートウェイプロトコル）は、インターネットの主要なエクステリアゲートウェイ（ネットワーク間の接続）で使用されるルーティングプロトコルです。簡単に説明すると、異なるAS（Autonomous System：自律システム、インターネット上の一つの管理単位）間で経路情報を交換し、最適な経路選択を行う役割を担っています。

### BGPの主な特徴
- **インタドメインルーティング：** 大規模なネットワーク間、特に異なるISPや企業間の連携に適しています。
- **経路選択のポリシー設定：** 管理者が経路の優先順位や広告内容を細かく制御可能。
- **経路情報の拡散：** AS間で経路情報を伝播させ、安全で効率的なルーティングを実現。

### BGPの基本的な仕組み
- **経路広告：** 各ASは、自身にとって有効な経路（プレフィックス）を隣接するASに通知します。
- **経路選択：** 各BGPルーターは経路情報を収集し、ポリシーに基づいて最良の経路を選択します。
- **ルート維持と更新：** 経路の変化や障害に応じて情報を更新し、ネットワークの安定性を保つ。

### まとめ
BGPはインターネット全体の「地図」とも言える役割を果たしており、効率的かつ安全な通信を支える重要なプロトコルです。

もし詳細な仕組みや設定について知りたい場合は、お知らせください！
User: 最初の質問覚えている？
AI: もちろんです。最初の質問は「BGPってなんぞや。」でした。お答えした通り、BGPはインターネットの異なる自律システム間で経路情報を交換し、最適なルーティングを実現するための主要なプロトコルです。ほかに詳しく知りたい点や質問があれば、遠慮なくどうぞ！
User: 一番最初だよ
AI: 申し訳ありません、ご指摘の通りです。最初のご挨拶は「こんにちは」でしたね。何かネットワーキングに関することや他の質問があれば、お気軽にお知らせください！
```
